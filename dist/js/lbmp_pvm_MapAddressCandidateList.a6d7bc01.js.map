{"version":3,"sources":["webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?22e4","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?eb6f","webpack:///node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue?f569","webpack:///./node_modules/@philly/vue-mapping/src/components/MapAddressCandidateList.vue"],"names":["_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_MapAddressCandidateList_vue_vue_type_style_index_0_id_5a7fc31f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_css_loader_index_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_cache_loader_dist_cjs_js_ref_0_0_vue_loader_lib_index_js_vue_loader_options_MapAddressCandidateList_vue_vue_type_style_index_0_id_5a7fc31f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","class","listGroupClass","_l","candidate","i","staticClass","attrs","href","createLink","tabindex","id","on","click","$event","closeAddressCandidateList","keydown","maybeUsedArrow","_v","_s","staticRenderFns","MapAddressCandidateListvue_type_script_lang_js_","props","computed","map","$store","state","candidates","shouldShowAddressCandidateList","activeTopic","isMobileOrTablet","addressAutocompleteEnabled","addressEntered","$config","addressInput","autocompleteEnabled","watch","nextValue","createControl","methods","createLeafletElement","L","ControlParent","_L$Control","el","options","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","inherits","createClass","key","DomEvent","disableClickPropagation","disableScrollPropagation","Control","$el","position","leafletElement","leaflet_src","$leafletElement","addTo","parentMounted","parent","e","indexUp","indexDown","target","index","parse_int_default","substring","lastIndexOf","length","document","getElementById","focus","addressCandidate","commit","components_MapAddressCandidateListvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/lbmp_pvm_MapAddressCandidateList.a6d7bc01.js","sourcesContent":["import mod from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=style&index=0&id=5a7fc31f&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../css-loader/index.js??ref--6-oneOf-1-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=style&index=0&id=5a7fc31f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.shouldShowAddressCandidateList),expression:\"this.shouldShowAddressCandidateList\"}],class:this.listGroupClass},[_c('ul',_vm._l((_vm.candidates),function(candidate,i){return _c('li',[_c('a',{staticClass:\"list-group-item\",attrs:{\"href\":_vm.createLink(candidate),\"tabindex\":\"-1\",\"id\":'address-candidate-list-' + i},on:{\"click\":function($event){_vm.closeAddressCandidateList(candidate)},\"keydown\":_vm.maybeUsedArrow}},[_vm._v(\"\\n        \"+_vm._s(candidate)+\"\\n      \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div :class=\"this.listGroupClass\"\r\n       v-show=\"this.shouldShowAddressCandidateList\"\r\n  >\r\n    <ul>\r\n      <li v-for=\"(candidate, i) in candidates\">\r\n        <a :href=\"createLink(candidate)\"\r\n           @click=\"closeAddressCandidateList(candidate)\"\r\n           class=\"list-group-item\"\r\n           tabindex=\"-1\"\r\n           :id=\"'address-candidate-list-' + i\"\r\n           @keydown=\"maybeUsedArrow\"\r\n        >\r\n          {{ candidate }}\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as L from 'leaflet';\r\n\r\n  export default {\r\n    name: 'MapAddressCandidateList',\r\n    props: ['position'],\r\n    computed: {\r\n      map() {\r\n        return this.$store.state.map.map;\r\n      },\r\n      candidates() {\r\n        return this.$store.state.candidates;\r\n      },\r\n      shouldShowAddressCandidateList() {\r\n        return this.$store.state.shouldShowAddressCandidateList;\r\n      },\r\n      activeTopic() {\r\n        return this.$store.state.activeTopic;\r\n      },\r\n      isMobileOrTablet() {\r\n        return this.$store.state.isMobileOrTablet;\r\n      },\r\n      listGroupClass() {\r\n        if (this.isMobileOrTablet) {\r\n          if (this.addressAutocompleteEnabled) {\r\n            if (this.addressEntered === '' || this.addressEntered === null) {\r\n              return 'list-group-mobile';\r\n            } else {\r\n              return 'list-group-mobile-full';\r\n            }\r\n          } else {\r\n            return 'list-group-mobile';\r\n          }\r\n        } else {\r\n          if (this.addressAutocompleteEnabled) {\r\n            if (this.addressEntered === '' || this.addressEntered === null) {\r\n              return 'list-group';\r\n            } else {\r\n              return 'list-group-full';\r\n            }\r\n          } else {\r\n            return 'list-group';\r\n          }\r\n        }\r\n      },\r\n      addressAutocompleteEnabled() {\r\n        // TODO this is temporarily disabled\r\n        if (this.$config.addressInput) {\r\n          if (this.$config.addressInput.autocompleteEnabled === true) {\r\n            return true;\r\n          } else {\r\n            return false;\r\n          }\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n    },\r\n    watch: {\r\n      shouldShowAddressCandidateList(nextValue) {\r\n        // console.log('AddressCandidateList.vue watch shouldShowAddressCandidateList is running, nextValue:', nextValue);\r\n        if (nextValue === true) {\r\n          this.createControl();\r\n        }\r\n      },\r\n    },\r\n    methods: {\r\n      createLink(candidate) {\r\n        if (this.$store.state.activeTopic) {\r\n          return '#/' + candidate + '/' + this.activeTopic;\r\n        } else {\r\n          return '#/' + candidate;\r\n        }\r\n      },\r\n      createLeafletElement(L) {\r\n        // console.log('AddressCandidateList.vue createLeafletElement is running')\r\n        // subclass Control to accept an el which gets mounted to the map\r\n        class ControlParent extends L.Control {\r\n          constructor(el, options) {\r\n            super(options);\r\n            this.el = el;\r\n          }\r\n          onAdd() {\r\n            const el = this.el;\r\n\r\n            // keep clicks from hitting the map\r\n            L.DomEvent.disableClickPropagation(el);\r\n            L.DomEvent.disableScrollPropagation(el);\r\n\r\n            return el;\r\n          }\r\n        }\r\n\r\n        const el = this.$el;\r\n        return new ControlParent(el, {\r\n          position: this.position\r\n        });\r\n      },\r\n      createControl() {\r\n        // console.log('AddressCandidateList.vue createControl is running');\r\n        const leafletElement = this.createLeafletElement(L);\r\n        this.$leafletElement = leafletElement;\r\n        const map = this.map;\r\n        leafletElement.addTo(map);\r\n      },\r\n      parentMounted(parent, props) {\r\n        // console.log('AddressCandidateList.vue parentMounted is running, parent:', parent, 'props:', props);\r\n      },\r\n      maybeUsedArrow(e) {\r\n        const id = e.target.id;\r\n        const index = parseInt(id.substring(id.lastIndexOf('-') + 1));\r\n        let indexUp, indexDown;\r\n        if (index < this.candidates.length - 1) {\r\n          indexUp = index + 1;\r\n        } else (\r\n          indexUp = index\r\n        )\r\n        if (index !== 0) {\r\n          indexDown = index - 1;\r\n        } else {\r\n          indexDown = 0\r\n        }\r\n        // console.log('maybeUsedArrow running, e:', e, 'index:', index, 'indexUp:', indexUp, 'indexDown:', indexDown);\r\n        if (e.key === \"ArrowDown\") {\r\n          document.getElementById('address-candidate-list-' + indexUp).focus();\r\n        }\r\n        if (e.key === \"ArrowUp\") {\r\n          document.getElementById('address-candidate-list-' + indexDown).focus();\r\n        }\r\n      },\r\n      closeAddressCandidateList(addressCandidate) {\r\n        // console.log('closeAddressCandidateList, addressCandidate:', addressCandidate);\r\n        // this.$controller.handleSearchFormSubmit(addressCandidate);\r\n        this.$store.commit('setAddressEntered', addressCandidate);\r\n        this.$store.commit('setShouldShowAddressCandidateList', false);\r\n      },\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.list-group {\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n.list-group-full {\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n.list-group-mobile {\r\n  height: 300px;\r\n  width: 250px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\n.list-group-mobile-full {\r\n  height: 300px;\r\n  width: 197px;\r\n  overflow: auto;\r\n  margin-top: 1px !important;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  margin-left: 0px;\r\n}\r\n\r\n.list-group-item {\r\n  /* width: 237px; */\r\n  display: block;\r\n  border-radius: 2px;\r\n  box-shadow:0 2px 4px rgba(0,0,0,0.2),0 -1px 0px rgba(0,0,0,0.02);\r\n  border: 2;\r\n  background-color: white;\r\n  padding-top: 10px;\r\n  padding-bottom: 10px;\r\n  padding-left: 10px;\r\n  font-family: 'Montserrat', 'Tahoma', sans-serif;\r\n  font-size: 14px;\r\n  font-weight: normal;\r\n}\r\n\r\n.list-group-item:hover {\r\n  background-color: #ffefa2;\r\n  font-weight: bold;\r\n}\r\n\r\n/*small*/\r\n@media screen and (max-width: 39.9375em) {\r\n  .list-group {\r\n    width: 200px;\r\n  }\r\n\r\n  .list-group-mobile {\r\n    width: 200px;\r\n  }\r\n\r\n  .list-group-full {\r\n    width: 147px;\r\n  }\r\n\r\n  .list-group-mobile-full {\r\n    width: 158px;\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../cache-loader/dist/cjs.js??ref--12-0!../../../../thread-loader/dist/cjs.js!../../../../babel-loader/lib/index.js!../../../../cache-loader/dist/cjs.js??ref--0-0!../../../../vue-loader/lib/index.js??vue-loader-options!./MapAddressCandidateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapAddressCandidateList.vue?vue&type=template&id=5a7fc31f&scoped=true&\"\nimport script from \"./MapAddressCandidateList.vue?vue&type=script&lang=js&\"\nexport * from \"./MapAddressCandidateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapAddressCandidateList.vue?vue&type=style&index=0&id=5a7fc31f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a7fc31f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}